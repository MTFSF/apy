<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTFSF Dev Site</title>
    <style>
        body { text-align: center; padding: 50px; font-family: Arial, sans-serif; background: #f5f5f5; }
        h1 { font-size: 2.5rem; color: #2c3e50; line-height: 1.6; }
        .status { font-size: 1.2rem; margin: 20px 0; color: #3498db; }
        .error { color: #e74c3c; }
        .loading { color: #f39c12; }
        .en { font-size: 1.8rem; opacity: 0.9; }
    </style>
</head>
<body>
    <h1>
        请求通过，我将会在6月内完成网页<br>
        <span class="en">Request Approved, Website Will Be Completed Within 6 Months</span>
    </h1>
    <div class="status loading">正在检测主站状态... / Checking main site status...</div>

    <script>
        // 检测主站是否可访问
        async function checkMainSite() {
            const statusEl = document.querySelector('.status');
            try {
                // 请求主站（mtfsf.github.io）检测状态
                const response = await fetch('https://mtfsf.github.io', { method: 'HEAD' });
                if (response.ok) {
                    statusEl.textContent = '主站正常，即将跳转... / Main site is normal, redirecting soon...';
                    statusEl.classList.remove('loading', 'error');
                    // 3秒后跳转到主站
                    setTimeout(() => window.location.href = 'https://mtfsf.github.io', 3000);
                } else {
                    throw new Error('主站响应异常');
                }
            } catch (err) {
                statusEl.textContent = '主站暂不可用，正在获取恢复时间... / Main site unavailable, fetching recovery time...';
                statusEl.classList.add('error');
                statusEl.classList.remove('loading');
                // 读取time.json的恢复时间
                try {
                    const timeRes = await fetch('https://mtfsf.github.io/apy/time.json');
                    const timeData = await timeRes.json();
                    statusEl.textContent = `主站维护中，预计恢复时间：${timeData.recoveryTime} / Main site under maintenance, expected recovery time: ${timeData.recoveryTime}`;
                } catch (timeErr) {
                    statusEl.textContent = '主站维护中，恢复时间暂未公布 / Main site under maintenance, recovery time to be announced';
                }
            }
        }

        // 页面加载后执行检测
        window.onload = checkMainSite;
    </script>
</body>
</html>
